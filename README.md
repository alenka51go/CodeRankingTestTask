# CodeRankingTestTask
Тестовое задание для проекта "Ранжирование фрагментов кода"

**Задание 1.**

Определить сколько раз в двоичном коде /bin/grep встречается вызов функции `malloc`.

_Решение_: для дизассемблирования исполняемого файла подходит утилита objdump с ключем -d.
Для определения количества раз вызова функции `malloc` в двоичном коде /bin/grep: 

`objdump -D /bin/grep | grep malloc`

Пример вывода представлен в файле task1.
Заметим, что каждый вызов функции - инструкция `call`, первая строка в примере - непосредственное объявление функции `malloc`, вторая - комменатарий.

С поомщью утилиты wc с ключом -l можем узнать, что количество вызово функции `malloc` - 19.

**Задание 2.**

Написать скрипт, принимающий на вход класс-файл и возвращающий список классов, которые упоминаются во всех инструкциях invokevirtual, встречающихся в его байткоде.

_Решение_: для дизассемблирования байткода JVM используется утилита javap. Далее с помощью утилиты grep находим все вызовы инстекции invokevirtual. Как понятно из названия, инструкция вызывает некоторый метод. В качетве параметра она принимает константу, которые пересилены в `Constant Pool'е`, связанную с номером `MethodRef`, который она вызывает. `MethodRef в качестве парамтеров содержит константы связанные с названием класса и сигнатурой функции. Последовательно были распасены имя класса, а также имена всех классов, которые передаются в качетве параметра или возврщаемого значения в функцию. 

Скрипт для запуска представлен в файле task2.sh. Скрипт принимает на вход один параметр - класс-файл. На стандартный поток вывода предаются все классы, связанные с инструкцией invokevirtual в отсортированном порядке.
